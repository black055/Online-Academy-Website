<div class="container mx-auto col-3" style="margin:300px 0">
    <form action="/forgotPassWord/reset/{{user._id}}" method="post" id="form_reset">
        <div class="form-group">
            <label for="pass1">Nhập mật khẩu mới</label>
            <input type="password" class="form-control" id="pass1" name="pass1">
        </div>
        <div class="form-group">
            <label for="pass2">Nhập lại mật khẩu mới</label>
            <input type="password" class="form-control" id="pass2" name="pass2">
        </div>
        <button id="resetpass" type="submit" class="btn btn-success">Đổi mật khẩu</button>
    </form>
</div>

{{#section 'css'}}
<link rel="stylesheet" type="text/css" href="/styles/main_styles.css">
<link rel="stylesheet" type="text/css" href="/styles/responsive.css">
{{/section}}

{{#section 'js'}}
    <script>
        $('#form_reset').submit(async function(e) {
            e.preventDefault();
            let pass1 = $('#pass1').val();
            let pass2 = $('#pass2').val();
            const regex = /^(?=.*\d).{8,12}$/;
            if (!regex.test(pass1) || !regex.test(pass2)) {
                swal({
                    title: "Sorry !",
                    text: "Mật khẩu không hợp lệ !",
                    icon: "warning",
                    dangerMode: true,
                });
                return false;
            } else if (pass1 != pass2) {
                swal({
                    title: "Sorry !",
                    text: "Mật khẩu nhập lại không trùng khớp!",
                    icon: "warning",
                    dangerMode: true,
                });
                return false;
            } else {
                swal("Thành công!", "Đổi mật khẩu thành công!", "success").then(() => e.currentTarget.submit());
            }
        });
    </script>
{{/section}}